<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="Fragments/head :: head"></head>

<body class="sub_page">

  <div class="hero_area">
    <div class="bg-box">
      <img src="images/hero-bg.jpg" alt="">
    </div>
    <!-- header section strats -->
    <header th:replace="Fragments/header :: header"></header>
    <!-- end header section -->
  </div>

  <!-- book section -->
  <section class="book_section layout_padding">
    <div class="container">
      <div class="heading_container">
        <h2>
        Change Password
        </h2>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form_container">
             <p th:text="${message}" th:if="${message ne null}" class="alert alert-primary"></p>
            <form action="#" th:action="@{/change-password}" 
                  th:object="${account}" 
                  method="post" >

                  <input type="hidden" th:field="*{id}" />
              <div>
                
                <input type="password" name="password"  th:field="*{password}" id = "password" required class="form-control" placeholder="new password" />
                <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="alert alert-danger" role="alert">
                  Invalid password</p>

              </div>
              <div>
                <input type="password"  name="password_confirm" id="password_confirm" required class="form-control" oninput="check(this)" placeholder="confirm password" />
              </div>

              <script language='javascript' type='text/javascript'>

                function check(input){
                  if(input.value != document.getElementById('password').value){

                    input.setCustomValidity('password must be matching');

                  }else{

                    input.setCustomValidity('');

                  }
                }



              </script>

              <div class="btn_box">
                <button type="submit">
                    update password
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- end book section -->

  <!-- footer section -->
  <footer th:replace="Fragments/footer :: footer"></footer>
  <!-- footer section -->

</body>

</html>